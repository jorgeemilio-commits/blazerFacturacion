@inherits LayoutComponentBase

<div class="page">
    <div class="sidebar">
        <div class="top-logo d-flex flex-column align-items-center justify-content-center pt-4 pb-3">
            <img src="/Waldos_logo.png?v=201" alt="Logo Waldos" class="waldos-logo mb-2" />
            <div class="waldos-title">Facturación de Waldos</div>
        </div>
        
        <NavMenu />
    </div>

    <main>
        <div class="main-header px-4">
            <a href="#" class="text-dark text-decoration-none fw-bold">Sobre el Sistema</a>
        </div>

        <article class="content px-4">
            @Body
        </article>
    </main>
</div>

<div id="blazor-error-ui">
    An unhandled error has occurred.
    <a href="" class="reload">Reload</a>
    <a class="dismiss">🗙</a>
</div>

<style>
    /* ============================================== */
    /* ESTILO WALDOS FINAL (CORREGIDO)                */
    /* ============================================== */

    :root {
        --w-verde-principal: #008f39; 
        --w-rojo-principal: #D50000;
        --w-amarillo: #FFD700;
        --w-verde-lima: #76ff03;
        --w-vino-oscuro: #8a0000;
        --w-verde-oscuro-tarjeta: #1b5e20; 
    }

    /* --- 1. CABECERA LATERAL --- */
    .top-logo {
        background-color: transparent !important;
        text-align: center;
    }

    .waldos-logo {
        height: 7rem; 
        width: auto;
        object-fit: contain;
        filter: drop-shadow(0px 2px 4px rgba(0,0,0,0.3));
    }

    .waldos-title {
        color: white;
        font-weight: 800;
        font-size: 1.3rem;
        text-transform: uppercase;
        letter-spacing: 1px;
        text-align: center;
        text-shadow: 1px 1px 3px rgba(0,0,0,0.5);
    }
    
    /* --- 2. BARRA LATERAL --- */
    .sidebar {
        background-image: linear-gradient(180deg, var(--w-verde-principal) 0%, #006020 100%) !important;
        color: white;
        min-width: 280px; 
    }

    /* --- 3. CLASES DE TARJETAS (CORREGIDAS A VERDE/ROJO) --- */
    
    /* Ingresos: VERDE OSCURO */
    .card-waldos-ingresos {
        background-color: var(--w-verde-oscuro-tarjeta) !important;
        border-color: #0d4212 !important;
        color: white !important;
    }
    
    /* Facturas: AHORA ES VERDE MEDIO (Ya no es Gris) */
    .card-waldos-facturas { 
        background-color: #388E3C !important; 
        border-color: #1b5e20 !important;
        color: white !important;
    }
    
    /* Mejor Cliente: ROJO PRINCIPAL */
    .card-waldos-cliente { 
        background-color: var(--w-rojo-principal) !important;
        border-color: var(--w-vino-oscuro) !important;
        color: white !important;
    }
    
    /* Mes Récord: AHORA ES ROJO BORGOÑA (Ya no es Turquesa) */
    .card-waldos-record { 
        background-color: #C62828 !important; 
        border-color: #b71c1c !important;
        color: white !important;
    }

    /* --- 4. BOTONES Y TEXTOS --- */
    .btn-primary, .btn-primary:hover {
        background-color: var(--w-rojo-principal) !important;
        border-color: var(--w-vino-oscuro) !important;
        color: white !important;
    }
    .text-primary { color: var(--w-rojo-principal) !important; font-weight: bold; }
    .btn-warning, .card.bg-warning { background-color: var(--w-amarillo) !important; color: #212121 !important; }
    .btn-success { background-color: var(--w-verde-principal) !important; border-color: #006020 !important; }

    /* --- 5. ESTRUCTURA --- */
    .page { position: relative; display: flex; flex-direction: column; min-height: 100vh; }
    main { flex: 1; }
    
    .main-header {
        background-color: #f7f7f7;
        border-bottom: 1px solid #d6d5d5;
        justify-content: flex-end;
        height: 3.5rem;
        display: flex;
        align-items: center;
    }

    @@media (min-width: 641px) {
        .page { flex-direction: row; }
        .sidebar { width: 280px; height: 100vh; position: sticky; top: 0; }
        .main-header { position: sticky; top: 0; z-index: 1; }
        .main-header, article { padding-left: 2rem !important; padding-right: 1.5rem !important; }
    }
    @@media (max-width: 640.98px) {
        .main-header { display: none; }
        .sidebar { width: 100%; height: auto; }
    }
    .nav-item a { border-radius: 4px; height: 3rem; display: flex; align-items: center; line-height: 3rem; text-decoration: none; padding-left: 1rem; margin: 0 10px; }
    .nav-item a.active {
        background-color: rgba(0, 0, 0, 0.2) !important;
        border-left: 5px solid var(--w-verde-lima) !important;
        color: white !important;
    }
</style>